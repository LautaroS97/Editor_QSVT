*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:#0f1115;color:#e8eaee;display:flex;gap:16px;padding:16px}

#list-root{width:500px;min-width:320px}
#form-root{flex:1;min-width:420px}

.card{background:#171a21;border:1px solid #242a35;border-radius:12px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,.25)}

header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
header .actions{display:flex;gap:8px}
button{appearance:none;border:1px solid #2b3240;background:#1e232d;color:#e8eaee;border-radius:8px;padding:8px 12px;font-size:1rem;cursor:pointer}
button:hover{border-color:#3a4456;background:#232a35}
button.primary{background:#4f7cff;border-color:#4f7cff}
button.primary:hover{background:#6d90ff;border-color:#6d90ff}
button.secondary{background:#202633;border-color:#2b3240}
button:disabled{opacity:.6;cursor:not-allowed}

ul.list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px;max-height:calc(100vh - 170px);overflow:auto}
ul.list li{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:10px;border:1px solid #242a35;border-radius:10px;background:#13161c}
ul.list li.active{border-color:#5c7cff;box-shadow:0 0 0 2px rgba(92,124,255,.2) inset}
ul.list li .actions{display:flex;gap:6px}
.muted{color:#9aa3b2;font-size:1rem}
.pill{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;background:#202633;border:1px solid #2b3240;color:#b9c2d0;font-size:1rem}

.toolbar{margin-top:10px;color:#9aa3b2;font-size:1.35rem}

.form .row{display:flex;gap:12px;margin-bottom:10px}
.form .col{flex:1;min-width:0}
.form label{display:block;font-size:1rem;color:#a9b3c3;margin-bottom:6px}
.form input[type="text"],.form input[type="number"],.form select,.form textarea{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #2b3240;background:#10131a;color:#e8eaee}
.form textarea{min-height:96px;resize:vertical}
.form .option{border:1px dashed #2a3140;border-radius:10px;padding:12px;margin-top:12px;background:#12161d}
.form .opt-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}

.small{font-size:1rem}
.muted{color:#9aa3b2}

.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;transition:opacity .15s ease;z-index:1000;display:flex;align-items:center;justify-content:center;padding:24px}
.modal-backdrop.show{opacity:1}
.modal{width:min(980px,95vw);max-height:90vh;overflow:auto;background:#141822;border:1px solid #2b3240;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,.5);display:flex;flex-direction:column}
.modal-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #232a38}
.modal-head .title{font-weight:600}
.modal-head .icon{background:transparent;border:none;font-size:1.25rem;line-height:1;padding:6px;cursor:pointer;color:#c7cfdb}
.modal-toolbar{padding:10px 14px;border-bottom:1px solid #232a38}
.modal-toolbar .search{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #2b3240;background:#0f131a;color:#e8eaee}
.icon-grid{padding:12px;display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px}
.icon-item{border:1px solid #232a38;border-radius:10px;padding:10px;background:#0f1318;cursor:pointer;display:flex;gap:10px;align-items:center}
.icon-item:hover{border-color:#3a4456}
.icon-item.selected{border-color:#5c7cff;box-shadow:0 0 0 2px rgba(92,124,255,.15) inset}
.icon-item .thumb{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:#131922;border-radius:8px;overflow:hidden}
.icon-item .thumb img{max-width:100%;max-height:100%;display:block}
.icon-item .noimg{font-size:14px;color:#9aa3b2}
.icon-item .label{flex:1;font-size:13px;color:#d7dbe3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.modal-foot{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-top:1px solid #232a38}
.modal-foot .right{display:flex;gap:8px}

.chips{display:flex;gap:6px;flex-wrap:wrap;margin:6px 0}

.chip{display:inline-flex;align-items:center;gap:6px;background:#1a1f2a;border:1px solid #2b3240;border-radius:999px;padding:3px 4px}
.chip img{width:24px;height:24px;border-radius:4px}
.chip .x{background:transparent;border:none;color:#c7cfdb;cursor:pointer;font-size:1.25rem;line-height:1;padding:0 2px}

.sector-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(132px, 1fr));
  gap: 12px;
  margin-top: 12px;
  max-height: 60vh;
  overflow: auto;
}

.sector-item {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 10px;
  border-radius: 12px;
  background: #11161d;
  border: 1px solid #2a3442;
  cursor: pointer;
}

.sector-item img {
  width: 56px;
  height: 56px;
  object-fit: contain;
  pointer-events: none;
}

.sector-item__label {
  font-size: 1rem;
  text-align: center;
  color: #d6dbe3;
  line-height: 1.2;
}

.sector-item__check {
  position: absolute;
  top: 6px;
  right: 8px;
  font-size: 1.25rem;
  padding: 2px 6px;
  border-radius: 999px;
  background: #2b9c5f;
  color: #071218;
  opacity: 0;
  transition: opacity .12s ease;
}

.sector-item.is-selected {
  border-color: #2b9c5f;
  box-shadow: 0 0 0 2px rgba(43,156,95,.25) inset;
}

.sector-item.is-selected .sector-item__check {
  opacity: 1;
}

.sector-search {
  width: 100%;
  margin-top: 8px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #2a3442;
  background: #0c1219;
  color: #d6dbe3;
}

.agenda-box{
  display: flex;
}

.agenda-box .chips{
  margin: 0!important;
}

.agenda-box .chips span{
  margin-right: 6px !important;
}

.agenda-box .chip{
  padding-left: 6px !important;
}

/* ===== MOBILE ===== */
/* Tablet y móviles: apila columnas, ensancha inputs y reduce paddings */
@media (max-width: 768px) {
  body {
    padding: 12px;
    gap: 12px;
    flex-direction: column;
  }

  #list-root,
  #form-root {
    width: 100%;
    min-width: 0;
  }

  .card {
    padding: 12px;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,.2);
  }

  header {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    margin-bottom: 10px;
  }
  header .actions { justify-content: flex-end; }

  button {
    padding: 10px 12px;
    font-size: 1rem;
    width: auto;
  }

  .toolbar { font-size: 1.1rem; }

  /* Lista: más aire y altura auto para evitar cortes */
  ul.list {
    max-height: none;
    gap: 10px;
  }
  ul.list li {
    padding: 10px;
    gap: 10px;
  }

  /* Formulario: columnas a una sola columna */
  .form .row {
    flex-direction: column;
    gap: 10px;
    margin-bottom: 10px;
  }
  .form .col { min-width: 100%; }
  .form label { font-size: .95rem; }
  .form input[type="text"],
  .form input[type="number"],
  .form select,
  .form textarea {
    padding: 10px 12px;
    font-size: 1rem;
  }
  .form textarea { min-height: 120px; }
  .form .option { padding: 10px; }

  .small { font-size: .95rem; }

  /* Chips y contenedores */
  .chips { gap: 8px; }
  .chip { padding: 4px 6px; }
  .chip img { width: 22px; height: 22px; }

  /* Modal: más ancho, ocupa alto y elimina márgenes internos grandes */
  .modal-backdrop { padding: 12px; }
  .modal {
    width: 100%;
    max-height: 92vh;
    border-radius: 12px;
  }
  .modal-head,
  .modal-toolbar,
  .modal-foot { padding: 10px 12px; }

  /* Buscadores */
  .modal-toolbar .search,
  .sector-search {
    padding: 10px 12px;
    font-size: 1rem;
  }

  /* Grids: más columnas flexibles y tarjetas más compactas */
  .icon-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
    padding: 10px;
  }
  .icon-item {
    padding: 10px;
    gap: 8px;
  }
  .icon-item .thumb { width: 34px; height: 34px; }
  .icon-item .label { font-size: .95rem; }

  .sector-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
    max-height: 60vh;
  }
  .sector-item {
    padding: 10px;
    gap: 6px;
  }
  .sector-item img { width: 50px; height: 50px; }
  .sector-item__label { font-size: .95rem; }
  .sector-item__check { top: 6px; right: 8px; }

  /* Agenda picker horizontal en móviles */
  .agenda-box {
    flex-direction: column;
    gap: 8px;
  }
}

/* Móviles pequeños: prioriza legibilidad y toques más grandes */
@media (max-width: 480px) {
  body { padding: 10px; gap: 10px; }

  header { gap: 8px; }
  button { width: 100%; }

  .icon-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }
  .icon-item .thumb { width: 32px; height: 32px; }
  .icon-item .label { font-size: .9rem; }

  .sector-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }
  .sector-item img { width: 46px; height: 46px; }
  .sector-item__label { font-size: .9rem; }

  .modal {
    width: 100%;
    height: 96vh;
    max-height: none;
    border-radius: 10px;
  }
  .modal-foot .right { width: 100%; }
  .modal-foot .right > * { flex: 1; }
}
